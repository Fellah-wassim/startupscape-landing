"use client";

import { useState, useEffect } from "react";

import Link from "next/link";
import MobileMenu from "./mobile-menu";

export default function Header() {
  const [top, setTop] = useState<boolean>(true);

  const scrollHandler = () => {
    window.pageYOffset > 10 ? setTop(false) : setTop(true);
  };

  useEffect(() => {
    scrollHandler();
    window.addEventListener("scroll", scrollHandler);
    return () => window.removeEventListener("scroll", scrollHandler);
  }, [top]);

  return (
    <header
      className={`fixed w-full z-30 md:bg-opacity-90 transition duration-300 ease-in-out ${
        !top ? "bg-white backdrop-blur-sm shadow-lg" : ""
      }`}
    >
      <div className="max-w-6xl mx-auto px-5 sm:px-6">
        <div className="flex items-center justify-between h-16 md:h-20">
          <a href="/" className="shrink-0 mr-4">
            <svg
              className="h-14"
              viewBox="0 0 216 72"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_61_246"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="82"
                height="72"
              >
                <path d="M82 0H0V72H82V0Z" fill="white" />
              </mask>
              <g mask="url(#mask0_61_246)">
                <path
                  d="M66.6246 28.9594C67.0839 30.923 67.3517 32.9586 67.4069 35.0468H60.2475L58.5222 36.693H67.4069C67.2655 42.0181 65.743 47.0043 63.1892 51.3096H54.1483V40.8688L52.5021 42.4405V51.3096H43.209L41.4841 52.9565H52.5021V61.9976C48.1956 64.5516 43.209 66.0737 37.8847 66.2159V56.3924L36.2384 57.964V66.2159C30.9131 66.0737 25.9269 64.5516 21.6214 61.9976V52.9565H27.8897L26.3033 51.3096H22.177L19.9752 52.9833V60.9491C18.1812 59.7229 16.525 58.3102 15.0338 56.7377L10.6759 60.0503C11.0265 60.4321 11.3845 60.8089 11.754 61.1777C18.5142 67.9378 27.5015 71.661 37.0611 71.661C46.6218 71.661 55.6092 67.9378 62.3694 61.1777C69.1294 54.4181 72.8527 45.4301 72.8527 35.8699C72.8527 32.0185 72.2467 28.2611 71.0837 24.7037L66.6246 28.9594ZM54.1483 52.9565H62.1404C59.9984 56.0918 57.2827 58.8066 54.1483 60.9491V52.9565ZM8.43783 45.9802C7.40373 43.062 6.80273 39.9404 6.71503 36.693H15.3519L16.5788 35.0468H6.71503C6.85793 29.722 8.38013 24.7355 10.934 20.4302H19.9753V30.4849L21.6215 28.2741V20.4304H36.2387V33.4972L37.8848 31.921V20.4304H49.8867L51.6071 18.7835H37.8847V5.52395C43.209 5.6661 48.1956 7.1885 52.5021 9.74229V17.9272L54.1483 16.3511V10.791C55.2672 11.5557 56.3327 12.3938 57.3381 13.2978L61.2816 9.5213C54.6602 3.42213 46.1184 0.0788574 37.0611 0.0788574C27.5015 0.0788574 18.5143 3.80202 11.754 10.5621C4.99373 17.3217 1.27063 26.3099 1.27063 35.8699C1.27063 41.2144 2.43493 46.3797 4.64203 51.0767L8.43783 45.9802ZM11.982 18.7834C14.1251 15.6481 16.8393 12.934 19.9752 10.7908V18.7834H11.982ZM21.6214 18.7834V9.74229C25.9269 7.1885 30.9131 5.6661 36.2384 5.52395V18.7834H21.6214Z"
                  fill="black"
                />
                <path
                  d="M65.7072 10.4538L62.9905 7.88621L62.5573 7.47689L63.7115 7.19528L70.4515 5.55341L81.145 2.94751L78.5902 16.7791L78.4188 17.7017L77.6689 21.761L75.9088 20.0972L73.1922 17.529L34.5122 54.4499L23.8935 43.4256L0.145386 63.3684L24.8665 30.1681L34.8852 39.9618L65.7072 10.4538Z"
                  fill="#338CF5"
                />
              </g>
              <path
                d="M90.6778 32.2074C90.6096 31.5857 90.3221 31.1015 89.8152 30.7551C89.3132 30.4087 88.6601 30.2354 87.8559 30.2354C87.2905 30.2354 86.8056 30.3185 86.4011 30.4845C85.9965 30.6507 85.687 30.8761 85.4726 31.1609C85.2581 31.4457 85.1485 31.7708 85.1436 32.1362C85.1436 32.4399 85.2143 32.7033 85.3556 32.9264C85.5018 33.1495 85.6992 33.3393 85.9478 33.496C86.1964 33.6478 86.4717 33.776 86.7739 33.8803C87.0761 33.9848 87.3807 34.0726 87.6878 34.1437L89.0914 34.4855C89.6568 34.6136 90.2002 34.7869 90.7217 35.0052C91.2481 35.2235 91.7184 35.4988 92.1326 35.8311C92.5518 36.1633 92.8833 36.5642 93.127 37.0341C93.3706 37.504 93.4925 38.0545 93.4925 38.6858C93.4925 39.54 93.2682 40.2923 92.8199 40.9426C92.3714 41.588 91.7233 42.0934 90.8752 42.4589C90.0321 42.8196 89.011 43 87.812 43C86.6472 43 85.6359 42.8244 84.7781 42.4731C83.9252 42.1219 83.2574 41.6094 82.7749 40.9355C82.2973 40.2614 82.039 39.4404 82 38.4722H84.6684C84.7074 38.9801 84.8682 39.4024 85.1509 39.7394C85.4336 40.0764 85.8016 40.3279 86.2548 40.4941C86.713 40.6601 87.2247 40.7432 87.7901 40.7432C88.3798 40.7432 88.8965 40.6578 89.34 40.487C89.7884 40.3113 90.1393 40.0693 90.3927 39.7608C90.6462 39.4475 90.7753 39.0821 90.7802 38.6644C90.7753 38.2847 90.6608 37.9715 90.4366 37.7246C90.2124 37.4732 89.898 37.2643 89.4935 37.0982C89.0939 36.9273 88.626 36.7755 88.0898 36.6426L86.3864 36.2154C85.1534 35.9069 84.1786 35.4395 83.4621 34.813C82.7506 34.1817 82.3948 33.3441 82.3948 32.2999C82.3948 31.4409 82.6336 30.6887 83.1112 30.0432C83.5937 29.3977 84.2493 28.897 85.0778 28.541C85.9064 28.1803 86.8446 28 87.8925 28C88.955 28 89.8859 28.1803 90.6852 28.541C91.4893 28.897 92.1205 29.393 92.5787 30.0289C93.0368 30.6602 93.2732 31.3863 93.2878 32.2074H90.6778ZM95.2525 30.4134V28.1994H107.198V30.4134H102.571V42.7793H99.8802V30.4134H95.2525ZM109.614 42.7793H106.719L111.99 28.1994H115.339L120.617 42.7793H117.722L113.723 31.1894H113.606L109.614 42.7793ZM109.71 37.0626H117.605V39.1841H109.71V37.0626ZM122.589 42.7793V28.1994H128.204C129.354 28.1994 130.319 28.3939 131.099 28.7831C131.884 29.1723 132.476 29.7181 132.875 30.4205C133.28 31.1181 133.482 31.9322 133.482 32.8624C133.482 33.7974 133.278 34.6089 132.868 35.2971C132.464 35.9805 131.867 36.5097 131.077 36.8847C130.287 37.2549 129.318 37.44 128.167 37.44H124.168V35.2472H127.802C128.474 35.2472 129.025 35.157 129.454 34.9767C129.883 34.7916 130.2 34.5235 130.404 34.1723C130.614 33.8163 130.719 33.3797 130.719 32.8624C130.719 32.345 130.614 31.9037 130.404 31.5382C130.195 31.168 129.876 30.888 129.447 30.6982C129.018 30.5036 128.465 30.4062 127.787 30.4062H125.301V42.7793H122.589ZM130.324 36.1728L134.03 42.7793H131.004L127.363 36.1728H130.324ZM135.321 30.4134V28.1994H147.267V30.4134H142.639V42.7793H139.949V30.4134H135.321ZM157.706 32.2074C157.638 31.5857 157.351 31.1015 156.844 30.7551C156.342 30.4087 155.689 30.2354 154.884 30.2354C154.319 30.2354 153.834 30.3185 153.429 30.4845C153.025 30.6507 152.716 30.8761 152.501 31.1609C152.287 31.4457 152.177 31.7708 152.172 32.1362C152.172 32.4399 152.243 32.7033 152.384 32.9264C152.53 33.1495 152.728 33.3393 152.976 33.496C153.225 33.6478 153.5 33.776 153.802 33.8803C154.105 33.9848 154.409 34.0726 154.716 34.1437L156.12 34.4855C156.685 34.6136 157.229 34.7869 157.75 35.0052C158.277 35.2235 158.747 35.4988 159.161 35.8311C159.58 36.1633 159.912 36.5642 160.155 37.0341C160.399 37.504 160.521 38.0545 160.521 38.6858C160.521 39.54 160.297 40.2923 159.848 40.9426C159.4 41.588 158.752 42.0934 157.904 42.4589C157.061 42.8196 156.039 43 154.841 43C153.676 43 152.664 42.8244 151.807 42.4731C150.954 42.1219 150.286 41.6094 149.803 40.9355C149.326 40.2614 149.067 39.4404 149.028 38.4722H151.697C151.736 38.9801 151.897 39.4024 152.179 39.7394C152.462 40.0764 152.83 40.3279 153.283 40.4941C153.742 40.6601 154.253 40.7432 154.819 40.7432C155.408 40.7432 155.925 40.6578 156.368 40.487C156.817 40.3113 157.168 40.0693 157.421 39.7608C157.675 39.4475 157.804 39.0821 157.809 38.6644C157.804 38.2847 157.689 37.9715 157.465 37.7246C157.241 37.4732 156.927 37.2643 156.522 37.0982C156.122 36.9273 155.654 36.7755 155.118 36.6426L153.415 36.2154C152.182 35.9069 151.207 35.4395 150.491 34.813C149.779 34.1817 149.423 33.3441 149.423 32.2999C149.423 31.4409 149.662 30.6887 150.14 30.0432C150.622 29.3977 151.278 28.897 152.106 28.541C152.935 28.1803 153.873 28 154.921 28C155.983 28 156.914 28.1803 157.714 28.541C158.518 28.897 159.149 29.393 159.607 30.0289C160.065 30.6602 160.302 31.3863 160.316 32.2074H157.706ZM175.755 33.1186H173.02C172.942 32.6819 172.799 32.2952 172.589 31.9582C172.38 31.6165 172.119 31.327 171.807 31.0897C171.495 30.8524 171.139 30.6744 170.74 30.5558C170.345 30.4324 169.918 30.3707 169.46 30.3707C168.646 30.3707 167.925 30.57 167.296 30.9687C166.667 31.3626 166.175 31.9416 165.819 32.7058C165.464 33.4651 165.286 34.393 165.286 35.4893C165.286 36.6047 165.464 37.5443 165.819 38.3085C166.18 39.0678 166.672 39.6421 167.296 40.0313C167.925 40.4157 168.644 40.6079 169.453 40.6079C169.901 40.6079 170.32 40.551 170.71 40.4371C171.105 40.3184 171.458 40.1451 171.77 39.9174C172.087 39.6896 172.353 39.4095 172.567 39.0773C172.787 38.7451 172.938 38.3654 173.02 37.9383L175.755 37.9525C175.652 38.6455 175.431 39.2957 175.089 39.9031C174.753 40.5107 174.312 41.0469 173.766 41.512C173.22 41.9725 172.582 42.3331 171.851 42.5942C171.12 42.8504 170.308 42.9786 169.416 42.9786C168.1 42.9786 166.926 42.6819 165.893 42.0887C164.859 41.4954 164.045 40.6388 163.451 39.5187C162.856 38.3987 162.559 37.0555 162.559 35.4893C162.559 33.9183 162.859 32.5753 163.458 31.4598C164.058 30.3399 164.874 29.4832 165.907 28.8899C166.94 28.2966 168.11 28 169.416 28C170.25 28 171.025 28.1139 171.741 28.3417C172.458 28.5696 173.096 28.9041 173.656 29.3455C174.217 29.7822 174.678 30.3185 175.038 30.9544C175.404 31.5857 175.643 32.3071 175.755 33.1186ZM179.98 42.7793H177.085L182.356 28.1994H185.705L190.983 42.7793H188.088L184.089 31.1894H183.972L179.98 42.7793ZM180.075 37.0626H187.971V39.1841H180.075V37.0626ZM192.955 42.7793V28.1994H198.57C199.72 28.1994 200.684 28.4082 201.464 28.8258C202.249 29.2435 202.841 29.8177 203.242 30.5487C203.645 31.2748 203.848 32.1006 203.848 33.0261C203.848 33.9611 203.645 34.7916 203.242 35.5178C202.837 36.2439 202.24 36.8158 201.45 37.2335C200.66 37.6463 199.688 37.8528 198.533 37.8528H194.812V35.6815H198.167C198.841 35.6815 199.391 35.5677 199.82 35.3398C200.249 35.112 200.565 34.7987 200.77 34.4001C200.979 34.0014 201.085 33.5434 201.085 33.0261C201.085 32.5088 200.979 32.0531 200.77 31.6592C200.565 31.2653 200.246 30.9592 199.813 30.7409C199.384 30.5178 198.83 30.4062 198.153 30.4062H195.667V42.7793H192.955ZM206.204 42.7793V28.1994H215.942V30.4134H208.916V34.3716H215.437V36.5856H208.916V40.5652H216V42.7793H206.204Z"
                fill="black"
              />
            </svg>
          </a>

          <nav className="hidden md:flex md:grow">
            <ul className="flex grow justify-end flex-wrap items-center">
              <li>
                <Link
                  href="https://startup-scape-co-escape-hackathon.vercel.app/auth/login"
                  className="font-medium text-gray-600 hover:text-gray-900 px-5 py-3 flex items-center transition duration-150 ease-in-out"
                >
                  Sign in
                </Link>
              </li>
              <li>
                <Link
                  href="https://startup-scape-co-escape-hackathon.vercel.app/auth/register"
                  className="btn-sm text-gray-200 bg-gray-900 hover:bg-gray-800 ml-3"
                >
                  <span>Sign up</span>
                  <svg
                    className="w-3 h-3 fill-current text-gray-400 shrink-0 ml-2 -mr-1"
                    viewBox="0 0 12 12"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11.707 5.293L7 .586 5.586 2l3 3H0v2h8.586l-3 3L7 11.414l4.707-4.707a1 1 0 000-1.414z"
                      fillRule="nonzero"
                    />
                  </svg>
                </Link>
              </li>
            </ul>
          </nav>

          <MobileMenu />
        </div>
      </div>
    </header>
  );
}
